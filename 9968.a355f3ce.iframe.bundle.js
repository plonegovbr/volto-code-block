"use strict";(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[9968],{"../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/classDiagram-v2-a723b61c.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{diagram:function(){return diagram}});var _styles_a7e8c8ab_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/styles-a7e8c8ab.js"),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/mermaid-4f066ae1.js"),_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/graph-03626afa.js"),_index_b5c99bd1_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/index-b5c99bd1.js");const sanitizeText=txt=>_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.f.sanitizeText(txt,(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)());let conf={dividerMargin:10,padding:5,textHeight:10,curve:void 0};const addClasses=function(classes,g,_id,diagObj,parent){const keys=Object.keys(classes);_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info("keys:",keys),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info(classes),keys.filter((id=>classes[id].parent==parent)).forEach((function(id){var _a,_b;const vertex=classes[id],cssClassStr=vertex.cssClasses.join(" "),styles2=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.o)(vertex.styles),vertexText=vertex.label??vertex.id,node={labelStyle:styles2.labelStyle,shape:"class_box",labelText:sanitizeText(vertexText),classData:vertex,rx:0,ry:0,class:cssClassStr,style:styles2.style,id:vertex.id,domId:vertex.domId,tooltip:diagObj.db.getTooltip(vertex.id,parent)||"",haveCallback:vertex.haveCallback,link:vertex.link,width:"group"===vertex.type?500:void 0,type:vertex.type,padding:(null==(_a=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().flowchart)?void 0:_a.padding)??(null==(_b=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().class)?void 0:_b.padding)};g.setNode(vertex.id,node),parent&&g.setParent(vertex.id,parent),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info("setNode",node)}))};function getArrowMarker(type){let marker;switch(type){case 0:marker="aggregation";break;case 1:marker="extension";break;case 2:marker="composition";break;case 3:marker="dependency";break;case 4:marker="lollipop";break;default:marker="none"}return marker}const renderer={setConf:function(cnf){conf={...conf,...cnf}},draw:async function(text,id,_version,diagObj){_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info("Drawing class - ",id);const conf2=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().flowchart??(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().class,securityLevel=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().securityLevel;_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info("config:",conf2);const nodeSpacing=(null==conf2?void 0:conf2.nodeSpacing)??50,rankSpacing=(null==conf2?void 0:conf2.rankSpacing)??50,g=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_1__.G({multigraph:!0,compound:!0}).setGraph({rankdir:diagObj.db.getDirection(),nodesep:nodeSpacing,ranksep:rankSpacing,marginx:8,marginy:8}).setDefaultEdgeLabel((function(){return{}})),namespaces=diagObj.db.getNamespaces(),classes=diagObj.db.getClasses(),relations=diagObj.db.getRelations(),notes=diagObj.db.getNotes();let sandboxElement;_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info(relations),function(namespaces,g,_id,diagObj){const keys=Object.keys(namespaces);_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info("keys:",keys),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info(namespaces),keys.forEach((function(id){var _a,_b;const vertex=namespaces[id],node={shape:"rect",id:vertex.id,domId:vertex.domId,labelText:sanitizeText(vertex.id),labelStyle:"",style:"fill: none; stroke: black",padding:(null==(_a=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().flowchart)?void 0:_a.padding)??(null==(_b=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().class)?void 0:_b.padding)};g.setNode(vertex.id,node),addClasses(vertex.classes,g,_id,diagObj,vertex.id),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info("setNode",node)}))}(namespaces,g,id,diagObj),addClasses(classes,g,id,diagObj),function(relations,g){const conf2=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().flowchart;let cnt=0;relations.forEach((function(edge){var _a;cnt++;const edgeData={classes:"relation",pattern:1==edge.relation.lineType?"dashed":"solid",id:`id_${edge.id1}_${edge.id2}_${cnt}`,arrowhead:"arrow_open"===edge.type?"none":"normal",startLabelRight:"none"===edge.relationTitle1?"":edge.relationTitle1,endLabelLeft:"none"===edge.relationTitle2?"":edge.relationTitle2,arrowTypeStart:getArrowMarker(edge.relation.type1),arrowTypeEnd:getArrowMarker(edge.relation.type2),style:"fill:none",labelStyle:"",curve:(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.q)(null==conf2?void 0:conf2.curve,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.n)};if(_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info(edgeData,edge),void 0!==edge.style){const styles2=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.o)(edge.style);edgeData.style=styles2.style,edgeData.labelStyle=styles2.labelStyle}edge.text=edge.title,void 0===edge.text?void 0!==edge.style&&(edgeData.arrowheadStyle="fill: #333"):(edgeData.arrowheadStyle="fill: #333",edgeData.labelpos="c",(null==(_a=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().flowchart)?void 0:_a.htmlLabels)??(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().htmlLabels?(edgeData.labelType="html",edgeData.label='<span class="edgeLabel">'+edge.text+"</span>"):(edgeData.labelType="text",edgeData.label=edge.text.replace(_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.f.lineBreakRegex,"\n"),void 0===edge.style&&(edgeData.style=edgeData.style||"stroke: #333; stroke-width: 1.5px;fill:none"),edgeData.labelStyle=edgeData.labelStyle.replace("color:","fill:"))),g.setEdge(edge.id1,edge.id2,edgeData,cnt)}))}(relations,g),function(notes,g,startEdgeId,classes){_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info(notes),notes.forEach((function(note,i){var _a,_b;const vertex=note,styles2_labelStyle="",styles2_style="",vertexText=vertex.text,node={labelStyle:styles2_labelStyle,shape:"note",labelText:sanitizeText(vertexText),noteData:vertex,rx:0,ry:0,class:"",style:styles2_style,id:vertex.id,domId:vertex.id,tooltip:"",type:"note",padding:(null==(_a=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().flowchart)?void 0:_a.padding)??(null==(_b=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.c)().class)?void 0:_b.padding)};if(g.setNode(vertex.id,node),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.l.info("setNode",node),!vertex.class||!(vertex.class in classes))return;const edgeId=startEdgeId+i,edgeData={id:`edgeNote${edgeId}`,classes:"relation",pattern:"dotted",arrowhead:"none",startLabelRight:"",endLabelLeft:"",arrowTypeStart:"none",arrowTypeEnd:"none",style:"fill:none",labelStyle:"",curve:(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.q)(conf.curve,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.n)};g.setEdge(vertex.id,vertex.class,edgeData,edgeId)}))}(notes,g,relations.length+1,classes),"sandbox"===securityLevel&&(sandboxElement=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.j)("#i"+id));const root="sandbox"===securityLevel?(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.j)(sandboxElement.nodes()[0].contentDocument.body):(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.j)("body"),svg=root.select(`[id="${id}"]`),element=root.select("#"+id+" g");if(await(0,_index_b5c99bd1_js__WEBPACK_IMPORTED_MODULE_2__.r)(element,g,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",id),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.z.insertTitle(svg,"classTitleText",(null==conf2?void 0:conf2.titleTopMargin)??5,diagObj.db.getDiagramTitle()),(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_0__.r)(g,svg,null==conf2?void 0:conf2.diagramPadding,null==conf2?void 0:conf2.useMaxWidth),!(null==conf2?void 0:conf2.htmlLabels)){const doc="sandbox"===securityLevel?sandboxElement.nodes()[0].contentDocument:document,labels=doc.querySelectorAll('[id="'+id+'"] .edgeLabel .label');for(const label of labels){const dim=label.getBBox(),rect=doc.createElementNS("http://www.w3.org/2000/svg","rect");rect.setAttribute("rx",0),rect.setAttribute("ry",0),rect.setAttribute("width",dim.width),rect.setAttribute("height",dim.height),label.insertBefore(rect,label.firstChild)}}}},diagram={parser:_styles_a7e8c8ab_js__WEBPACK_IMPORTED_MODULE_3__.p,db:_styles_a7e8c8ab_js__WEBPACK_IMPORTED_MODULE_3__.d,renderer:renderer,styles:_styles_a7e8c8ab_js__WEBPACK_IMPORTED_MODULE_3__.s,init:cnf=>{cnf.class||(cnf.class={}),cnf.class.arrowMarkerAbsolute=cnf.arrowMarkerAbsolute,_styles_a7e8c8ab_js__WEBPACK_IMPORTED_MODULE_3__.d.clear()}}}}]);