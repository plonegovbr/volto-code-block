"use strict";(self.webpackChunk_plone_volto=self.webpackChunk_plone_volto||[]).push([[156],{"../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/layout-23a94ccc.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{d:function(){return defaults$1},l:function(){return layout},m:function(){return map},p:function(){return pick$1},r:function(){return range$1},u:function(){return uniqueId}});var _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/graph-03626afa.js"),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../../node_modules/.pnpm/mermaid@10.8.0/node_modules/mermaid/dist/mermaid-4f066ae1.js"),reWhitespace=/\s/;var reTrimStart=/^\s+/;function baseTrim(string){return string?string.slice(0,function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}(string)+1).replace(reTrimStart,""):string}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;var INFINITY=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(value){return value?(value=function toNumber(value){if("number"==typeof value)return value;if((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.a)(value))return NAN;if((0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a5)(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a5)(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}(value))===INFINITY||value===-INFINITY?(value<0?-1:1)*MAX_INTEGER:value==value?value:0:0===value?value:0}function flatten(array){return(null==array?0:array.length)?(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.b)(array,1):[]}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;const now$1=function(){return _mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a8.Date.now()};var objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;const defaults$1=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a9)((function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:void 0;for(guard&&(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.aa)(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ab)(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(void 0===value||(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ac)(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object}));function last(array){var length=null==array?0:array.length;return length?array[length-1]:void 0}var nativeMax$1=Math.max;const find$1=function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ad)(collection)){var iteratee=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.d)(predicate);collection=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.k)(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:void 0}}((function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}(fromIndex);return index<0&&(index=nativeMax$1(length+index,0)),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.e)(array,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.d)(predicate),index)}));function baseMap(collection,iteratee){var index=-1,result=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ad)(collection)?Array(collection.length):[];return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.g)(collection,(function(value,key,collection2){result[++index]=iteratee(value,key,collection2)})),result}function map(collection,iteratee){return((0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ae)(collection)?_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.j:baseMap)(collection,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.d)(iteratee))}function baseGt(value,other){return value>other}function baseLt(value,other){return value<other}function mapValues(object,iteratee){var result={};return iteratee=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.d)(iteratee),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.m)(object,(function(value,key,object2){(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ag)(result,key,iteratee(value,key,object2))})),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(void 0===computed?current==current&&!(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.a)(current):comparator(current,computed)))var computed=current,result=value}return result}function max(array){return array&&array.length?baseExtremum(array,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ah,baseGt):void 0}function min(array){return array&&array.length?baseExtremum(array,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ah,baseLt):void 0}function minBy(array,iteratee){return array&&array.length?baseExtremum(array,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.d)(iteratee),baseLt):void 0}function baseSet(object,path,value,customizer){if(!(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a5)(object))return object;for(var index=-1,length=(path=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.n)(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.t)(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];void 0===(newValue=customizer?customizer(objValue,key,nested):void 0)&&(newValue=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a5)(objValue)?objValue:(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ai)(path[index+1])?[]:{})}(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.aj)(nested,key,newValue),nested=nested[key]}return object}function compareAscending(value,other){if(value!==other){var valIsDefined=void 0!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.a)(value),othIsDefined=void 0!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.a)(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.j)(iteratees,(function(iteratee){return(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ae)(iteratee)?function(value){return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.o)(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ah];var index=-1;return iteratees=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.j)(iteratees,(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ak)(_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.d)),function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}(baseMap(collection,(function(value,key,collection2){return{criteria:(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.j)(iteratees,(function(iteratee){return iteratee(value)})),index:++index,value:value}})),(function(object,other){return function compareMultiple(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}(object,other,orders)}))}function basePick(object,paths){return function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.o)(object,path);predicate(value,path)&&baseSet(result,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.n)(path,object),value)}return result}(object,paths,(function(value,path){return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.p)(object,path)}))}const pick$1=function flatRest(func){return(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a6)((0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a7)(func,void 0,flatten),func+"")}((function(object,paths){return null==object?{}:basePick(object,paths)}));var nativeCeil=Math.ceil,nativeMax=Math.max;const range$1=function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.aa)(start,end,step)&&(end=step=void 0),start=toFinite(start),void 0===end?(end=start,start=0):end=toFinite(end),function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=void 0===step?start<end?1:-1:toFinite(step),fromRight)}}();const sortBy$1=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.a9)((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.aa)(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.aa)(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.b)(iteratees,1),[])}));var idCounter=0;function uniqueId(prefix){var id=++idCounter;return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.q)(prefix)+id}class List{constructor(){var sentinel={};sentinel._next=sentinel._prev=sentinel,this._sentinel=sentinel}dequeue(){var sentinel=this._sentinel,entry=sentinel._prev;if(entry!==sentinel)return unlink(entry),entry}enqueue(entry){var sentinel=this._sentinel;entry._prev&&entry._next&&unlink(entry),entry._next=sentinel._next,sentinel._next._prev=entry,sentinel._next=entry,entry._prev=sentinel}toString(){for(var strs=[],sentinel=this._sentinel,curr=sentinel._prev;curr!==sentinel;)strs.push(JSON.stringify(curr,filterOutLinks)),curr=curr._prev;return"["+strs.join(", ")+"]"}}function unlink(entry){entry._prev._next=entry._next,entry._next._prev=entry._prev,delete entry._next,delete entry._prev}function filterOutLinks(k,v){if("_next"!==k&&"_prev"!==k)return v}var DEFAULT_WEIGHT_FN=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.al)(1);function greedyFAS(g,weightFn){if(g.nodeCount()<=1)return[];var state=function buildState(g,weightFn){var fasGraph=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G,maxIn=0,maxOut=0;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){fasGraph.setNode(v,{v:v,in:0,out:0})})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var prevWeight=fasGraph.edge(e.v,e.w)||0,weight=weightFn(e),edgeWeight=prevWeight+weight;fasGraph.setEdge(e.v,e.w,edgeWeight),maxOut=Math.max(maxOut,fasGraph.node(e.v).out+=weight),maxIn=Math.max(maxIn,fasGraph.node(e.w).in+=weight)}));var buckets=range$1(maxOut+maxIn+3).map((function(){return new List})),zeroIdx=maxIn+1;return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(fasGraph.nodes(),(function(v){assignBucket(buckets,zeroIdx,fasGraph.node(v))})),{graph:fasGraph,buckets:buckets,zeroIdx:zeroIdx}}(g,weightFn||DEFAULT_WEIGHT_FN),results=function doGreedyFAS(g,buckets,zeroIdx){var entry,results=[],sources=buckets[buckets.length-1],sinks=buckets[0];for(;g.nodeCount();){for(;entry=sinks.dequeue();)removeNode(g,buckets,zeroIdx,entry);for(;entry=sources.dequeue();)removeNode(g,buckets,zeroIdx,entry);if(g.nodeCount())for(var i=buckets.length-2;i>0;--i)if(entry=buckets[i].dequeue()){results=results.concat(removeNode(g,buckets,zeroIdx,entry,!0));break}}return results}(state.graph,state.buckets,state.zeroIdx);return flatten(map(results,(function(e){return g.outEdges(e.v,e.w)})))}function removeNode(g,buckets,zeroIdx,entry,collectPredecessors){var results=collectPredecessors?[]:void 0;return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.inEdges(entry.v),(function(edge){var weight=g.edge(edge),uEntry=g.node(edge.v);collectPredecessors&&results.push({v:edge.v,w:edge.w}),uEntry.out-=weight,assignBucket(buckets,zeroIdx,uEntry)})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.outEdges(entry.v),(function(edge){var weight=g.edge(edge),w=edge.w,wEntry=g.node(w);wEntry.in-=weight,assignBucket(buckets,zeroIdx,wEntry)})),g.removeNode(entry.v),results}function assignBucket(buckets,zeroIdx,entry){entry.out?entry.in?buckets[entry.out-entry.in+zeroIdx].enqueue(entry):buckets[buckets.length-1].enqueue(entry):buckets[0].enqueue(entry)}function run$2(g){var fas="greedy"===g.graph().acyclicer?greedyFAS(g,function weightFn(g2){return function(e){return g2.edge(e).weight}}(g)):function dfsFAS(g){var fas=[],stack={},visited={};function dfs2(v){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(visited,v)||(visited[v]=!0,stack[v]=!0,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.outEdges(v),(function(e){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(stack,e.w)?fas.push(e):dfs2(e.w)})),delete stack[v])}return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),dfs2),fas}(g);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(fas,(function(e){var label=g.edge(e);g.removeEdge(e),label.forwardName=e.name,label.reversed=!0,g.setEdge(e.w,e.v,label,uniqueId("rev"))}))}function addDummyNode(g,type,attrs,name){var v;do{v=uniqueId(name)}while(g.hasNode(v));return attrs.dummy=type,g.setNode(v,attrs),v}function asNonCompoundGraph(g){var simplified=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G({multigraph:g.isMultigraph()}).setGraph(g.graph());return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){g.children(v).length||simplified.setNode(v,g.node(v))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){simplified.setEdge(e,g.edge(e))})),simplified}function intersectRect(rect,point){var sx,sy,x=rect.x,y=rect.y,dx=point.x-x,dy=point.y-y,w=rect.width/2,h=rect.height/2;if(!dx&&!dy)throw new Error("Not possible to find intersection inside of the rectangle");return Math.abs(dy)*w>Math.abs(dx)*h?(dy<0&&(h=-h),sx=h*dx/dy,sy=h):(dx<0&&(w=-w),sx=w,sy=w*dy/dx),{x:x+sx,y:y+sy}}function buildLayerMatrix(g){var layering=map(range$1(maxRank(g)+1),(function(){return[]}));return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var node=g.node(v),rank2=node.rank;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(rank2)||(layering[rank2][node.order]=v)})),layering}function addBorderNode$1(g,prefix,rank2,order2){var node={width:0,height:0};return arguments.length>=4&&(node.rank=rank2,node.order=order2),addDummyNode(g,"border",node,prefix)}function maxRank(g){return max(map(g.nodes(),(function(v){var rank2=g.node(v).rank;if(!(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(rank2))return rank2})))}function time(name,fn){var start=now$1();try{return fn()}finally{console.log(name+" time: "+(now$1()-start)+"ms")}}function notime(name,fn){return fn()}function addBorderNode(g,prop,prefix,sg,sgNode,rank2){var label={width:0,height:0,rank:rank2,borderType:prop},prev=sgNode[prop][rank2-1],curr=addDummyNode(g,"border",label,prefix);sgNode[prop][rank2]=curr,g.setParent(curr,sg),prev&&g.setEdge(prev,curr,{weight:1})}function undo$1(g){var rankDir=g.graph().rankdir.toLowerCase();"bt"!==rankDir&&"rl"!==rankDir||function reverseY(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){reverseYOne(g.node(v))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(edge.points,reverseYOne),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(edge,"y")&&reverseYOne(edge)}))}(g),"lr"!==rankDir&&"rl"!==rankDir||(!function swapXY(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){swapXYOne(g.node(v))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(edge.points,swapXYOne),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(edge,"x")&&swapXYOne(edge)}))}(g),swapWidthHeight(g))}function swapWidthHeight(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){swapWidthHeightOne(g.node(v))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){swapWidthHeightOne(g.edge(e))}))}function swapWidthHeightOne(attrs){var w=attrs.width;attrs.width=attrs.height,attrs.height=w}function reverseYOne(attrs){attrs.y=-attrs.y}function swapXYOne(attrs){var x=attrs.x;attrs.x=attrs.y,attrs.y=x}function run$1(g){g.graph().dummyChains=[],(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(edge){!function normalizeEdge(g,e){var dummy,attrs,i,v=e.v,vRank=g.node(v).rank,w=e.w,wRank=g.node(w).rank,name=e.name,edgeLabel=g.edge(e),labelRank=edgeLabel.labelRank;if(wRank===vRank+1)return;for(g.removeEdge(e),i=0,++vRank;vRank<wRank;++i,++vRank)edgeLabel.points=[],dummy=addDummyNode(g,"edge",attrs={width:0,height:0,edgeLabel:edgeLabel,edgeObj:e,rank:vRank},"_d"),vRank===labelRank&&(attrs.width=edgeLabel.width,attrs.height=edgeLabel.height,attrs.dummy="edge-label",attrs.labelpos=edgeLabel.labelpos),g.setEdge(v,dummy,{weight:edgeLabel.weight},name),0===i&&g.graph().dummyChains.push(dummy),v=dummy;g.setEdge(v,w,{weight:edgeLabel.weight},name)}(g,edge)}))}function longestPath(g){var visited={};(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.sources(),(function dfs2(v){var label=g.node(v);if((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(visited,v))return label.rank;visited[v]=!0;var rank2=min(map(g.outEdges(v),(function(e){return dfs2(e.w)-g.edge(e).minlen})));return rank2!==Number.POSITIVE_INFINITY&&null!=rank2||(rank2=0),label.rank=rank2}))}function slack(g,e){return g.node(e.w).rank-g.node(e.v).rank-g.edge(e).minlen}function feasibleTree(g){var edge,delta,t=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G({directed:!1}),start=g.nodes()[0],size=g.nodeCount();for(t.setNode(start,{});tightTree(t,g)<size;)edge=findMinSlackEdge(t,g),delta=t.hasNode(edge.v)?slack(g,edge):-slack(g,edge),shiftRanks(t,g,delta);return t}function tightTree(t,g){return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(t.nodes(),(function dfs2(v){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodeEdges(v),(function(e){var edgeV=e.v,w=v===edgeV?e.w:edgeV;t.hasNode(w)||slack(g,e)||(t.setNode(w,{}),t.setEdge(v,w,{}),dfs2(w))}))})),t.nodeCount()}function findMinSlackEdge(t,g){return minBy(g.edges(),(function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return slack(g,e)}))}function shiftRanks(t,g,delta){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(t.nodes(),(function(v){g.node(v).rank+=delta}))}function dfs$1(g,vs,order2){(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ae)(vs)||(vs=[vs]);var navigation=(g.isDirected()?g.successors:g.neighbors).bind(g),acc=[],visited={};return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(vs,(function(v){if(!g.hasNode(v))throw new Error("Graph does not have node: "+v);doDfs(g,v,"post"===order2,visited,navigation,acc)})),acc}function doDfs(g,v,postorder2,visited,navigation,acc){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(visited,v)||(visited[v]=!0,postorder2||acc.push(v),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(navigation(v),(function(w){doDfs(g,w,postorder2,visited,navigation,acc)})),postorder2&&acc.push(v))}function networkSimplex(g){g=function simplify(g){var simplified=(new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G).setGraph(g.graph());return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){simplified.setNode(v,g.node(v))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var simpleLabel=simplified.edge(e.v,e.w)||{weight:0,minlen:1},label=g.edge(e);simplified.setEdge(e.v,e.w,{weight:simpleLabel.weight+label.weight,minlen:Math.max(simpleLabel.minlen,label.minlen)})})),simplified}(g),longestPath(g);var e,t=feasibleTree(g);for(initLowLimValues(t),initCutValues(t,g);e=leaveEdge(t);)exchangeEdges(t,g,e,enterEdge(t,g,e))}function initCutValues(t,g){var vs=function postorder$1(g,vs){return dfs$1(g,vs,"post")}(t,t.nodes());vs=vs.slice(0,vs.length-1),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(vs,(function(v){!function assignCutValue(t,g,child){var childLab=t.node(child),parent=childLab.parent;t.edge(child,parent).cutvalue=calcCutValue(t,g,child)}(t,g,v)}))}function calcCutValue(t,g,child){var parent=t.node(child).parent,childIsTail=!0,graphEdge=g.edge(child,parent),cutValue=0;return graphEdge||(childIsTail=!1,graphEdge=g.edge(parent,child)),cutValue=graphEdge.weight,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodeEdges(child),(function(e){var isOutEdge=e.v===child,other=isOutEdge?e.w:e.v;if(other!==parent){var pointsToHead=isOutEdge===childIsTail,otherWeight=g.edge(e).weight;if(cutValue+=pointsToHead?otherWeight:-otherWeight,function isTreeEdge(tree,u,v){return tree.hasEdge(u,v)}(t,child,other)){var otherCutValue=t.edge(child,other).cutvalue;cutValue+=pointsToHead?-otherCutValue:otherCutValue}}})),cutValue}function initLowLimValues(tree,root2){arguments.length<2&&(root2=tree.nodes()[0]),dfsAssignLowLim(tree,{},1,root2)}function dfsAssignLowLim(tree,visited,nextLim,v,parent){var low=nextLim,label=tree.node(v);return visited[v]=!0,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(tree.neighbors(v),(function(w){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(visited,w)||(nextLim=dfsAssignLowLim(tree,visited,nextLim,w,v))})),label.low=low,label.lim=nextLim++,parent?label.parent=parent:delete label.parent,nextLim}function leaveEdge(tree){return find$1(tree.edges(),(function(e){return tree.edge(e).cutvalue<0}))}function enterEdge(t,g,edge){var v=edge.v,w=edge.w;g.hasEdge(v,w)||(v=edge.w,w=edge.v);var vLabel=t.node(v),wLabel=t.node(w),tailLabel=vLabel,flip=!1;return vLabel.lim>wLabel.lim&&(tailLabel=wLabel,flip=!0),minBy((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.r)(g.edges(),(function(edge2){return flip===isDescendant(t,t.node(edge2.v),tailLabel)&&flip!==isDescendant(t,t.node(edge2.w),tailLabel)})),(function(edge2){return slack(g,edge2)}))}function exchangeEdges(t,g,e,f){var v=e.v,w=e.w;t.removeEdge(v,w),t.setEdge(f.v,f.w,{}),initLowLimValues(t),initCutValues(t,g),function updateRanks(t,g){var root2=find$1(t.nodes(),(function(v){return!g.node(v).parent})),vs=function preorder(g,vs){return dfs$1(g,vs,"pre")}(t,root2);vs=vs.slice(1),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(vs,(function(v){var parent=t.node(v).parent,edge=g.edge(v,parent),flipped=!1;edge||(edge=g.edge(parent,v),flipped=!0),g.node(v).rank=g.node(parent).rank+(flipped?edge.minlen:-edge.minlen)}))}(t,g)}function isDescendant(tree,vLabel,rootLabel){return rootLabel.low<=vLabel.lim&&vLabel.lim<=rootLabel.lim}function rank(g){switch(g.graph().ranker){case"network-simplex":default:networkSimplexRanker(g);break;case"tight-tree":!function tightTreeRanker(g){longestPath(g),feasibleTree(g)}(g);break;case"longest-path":longestPathRanker(g)}}new Error,networkSimplex.initLowLimValues=initLowLimValues,networkSimplex.initCutValues=initCutValues,networkSimplex.calcCutValue=calcCutValue,networkSimplex.leaveEdge=leaveEdge,networkSimplex.enterEdge=enterEdge,networkSimplex.exchangeEdges=exchangeEdges;var longestPathRanker=longestPath;function networkSimplexRanker(g){networkSimplex(g)}function run(g){var root2=addDummyNode(g,"root",{},"_root"),depths=function treeDepths(g){var depths={};function dfs2(v,depth){var children=g.children(v);children&&children.length&&(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(children,(function(child){dfs2(child,depth+1)})),depths[v]=depth}return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.children(),(function(v){dfs2(v,1)})),depths}(g),height=max((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.v)(depths))-1,nodeSep=2*height+1;g.graph().nestingRoot=root2,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){g.edge(e).minlen*=nodeSep}));var weight=function sumWeights(g){return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.s)(g.edges(),(function(acc,e){return acc+g.edge(e).weight}),0)}(g)+1;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.children(),(function(child){dfs(g,root2,nodeSep,weight,height,depths,child)})),g.graph().nodeRankFactor=nodeSep}function dfs(g,root2,nodeSep,weight,height,depths,v){var children=g.children(v);if(children.length){var top=addBorderNode$1(g,"_bt"),bottom=addBorderNode$1(g,"_bb"),label=g.node(v);g.setParent(top,v),label.borderTop=top,g.setParent(bottom,v),label.borderBottom=bottom,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(children,(function(child){dfs(g,root2,nodeSep,weight,height,depths,child);var childNode=g.node(child),childTop=childNode.borderTop?childNode.borderTop:child,childBottom=childNode.borderBottom?childNode.borderBottom:child,thisWeight=childNode.borderTop?weight:2*weight,minlen=childTop!==childBottom?1:height-depths[v]+1;g.setEdge(top,childTop,{weight:thisWeight,minlen:minlen,nestingEdge:!0}),g.setEdge(childBottom,bottom,{weight:thisWeight,minlen:minlen,nestingEdge:!0})})),g.parent(v)||g.setEdge(root2,top,{weight:0,minlen:height+depths[v]})}else v!==root2&&g.setEdge(root2,v,{weight:0,minlen:nodeSep})}function buildLayerGraph(g,rank2,relationship){var root2=function createRootNode(g){var v;for(;g.hasNode(v=uniqueId("_root")););return v}(g),result=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G({compound:!0}).setGraph({root:root2}).setDefaultNodeLabel((function(v){return g.node(v)}));return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var node=g.node(v),parent=g.parent(v);(node.rank===rank2||node.minRank<=rank2&&rank2<=node.maxRank)&&(result.setNode(v),result.setParent(v,parent||root2),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g[relationship](v),(function(e){var u=e.v===v?e.w:e.v,edge=result.edge(u,v),weight=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(edge)?0:edge.weight;result.setEdge(u,v,{weight:g.edge(e).weight+weight})})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(node,"minRank")&&result.setNode(v,{borderLeft:node.borderLeft[rank2],borderRight:node.borderRight[rank2]}))})),result}function crossCount(g,layering){for(var cc=0,i=1;i<layering.length;++i)cc+=twoLayerCrossCount(g,layering[i-1],layering[i]);return cc}function twoLayerCrossCount(g,northLayer,southLayer){for(var southPos=function zipObject(props,values2){return function baseZipObject(props,values2,assignFunc){for(var index=-1,length=props.length,valsLength=values2.length,result={};++index<length;){var value=index<valsLength?values2[index]:void 0;assignFunc(result,props[index],value)}return result}(props||[],values2||[],_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.aj)}(southLayer,map(southLayer,(function(v,i){return i}))),southEntries=flatten(map(northLayer,(function(v){return sortBy$1(map(g.outEdges(v),(function(e){return{pos:southPos[e.w],weight:g.edge(e).weight}})),"pos")}))),firstIndex=1;firstIndex<southLayer.length;)firstIndex<<=1;var treeSize=2*firstIndex-1;firstIndex-=1;var tree=map(new Array(treeSize),(function(){return 0})),cc=0;return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(southEntries.forEach((function(entry){var index=entry.pos+firstIndex;tree[index]+=entry.weight;for(var weightSum=0;index>0;)index%2&&(weightSum+=tree[index+1]),tree[index=index-1>>1]+=entry.weight;cc+=entry.weight*weightSum}))),cc}function resolveConflicts(entries,cg){var mappedEntries={};return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(entries,(function(entry,i){var tmp=mappedEntries[entry.v]={indegree:0,in:[],out:[],vs:[entry.v],i:i};(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(entry.barycenter)||(tmp.barycenter=entry.barycenter,tmp.weight=entry.weight)})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(cg.edges(),(function(e){var entryV=mappedEntries[e.v],entryW=mappedEntries[e.w];(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(entryV)||(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(entryW)||(entryW.indegree++,entryV.out.push(mappedEntries[e.w]))})),function doResolveConflicts(sourceSet){var entries=[];function handleIn(vEntry){return function(uEntry){uEntry.merged||((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(uEntry.barycenter)||(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(vEntry.barycenter)||uEntry.barycenter>=vEntry.barycenter)&&function mergeEntries(target,source){var sum=0,weight=0;target.weight&&(sum+=target.barycenter*target.weight,weight+=target.weight);source.weight&&(sum+=source.barycenter*source.weight,weight+=source.weight);target.vs=source.vs.concat(target.vs),target.barycenter=sum/weight,target.weight=weight,target.i=Math.min(source.i,target.i),source.merged=!0}(vEntry,uEntry)}}function handleOut(vEntry){return function(wEntry){wEntry.in.push(vEntry),0==--wEntry.indegree&&sourceSet.push(wEntry)}}for(;sourceSet.length;){var entry=sourceSet.pop();entries.push(entry),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(entry.in.reverse(),handleIn(entry)),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(entry.out,handleOut(entry))}return map((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.r)(entries,(function(entry2){return!entry2.merged})),(function(entry2){return pick$1(entry2,["vs","i","barycenter","weight"])}))}((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.r)(mappedEntries,(function(entry){return!entry.indegree})))}function sort(entries,biasRight){var parts=function partition(collection,fn){var result={lhs:[],rhs:[]};return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(collection,(function(value){fn(value)?result.lhs.push(value):result.rhs.push(value)})),result}(entries,(function(entry){return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(entry,"barycenter")})),sortable=parts.lhs,unsortable=sortBy$1(parts.rhs,(function(entry){return-entry.i})),vs=[],sum=0,weight=0,vsIndex=0;sortable.sort(function compareWithBias(bias){return function(entryV,entryW){return entryV.barycenter<entryW.barycenter?-1:entryV.barycenter>entryW.barycenter?1:bias?entryW.i-entryV.i:entryV.i-entryW.i}}(!!biasRight)),vsIndex=consumeUnsortable(vs,unsortable,vsIndex),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(sortable,(function(entry){vsIndex+=entry.vs.length,vs.push(entry.vs),sum+=entry.barycenter*entry.weight,weight+=entry.weight,vsIndex=consumeUnsortable(vs,unsortable,vsIndex)}));var result={vs:flatten(vs)};return weight&&(result.barycenter=sum/weight,result.weight=weight),result}function consumeUnsortable(vs,unsortable,index){for(var last$1;unsortable.length&&(last$1=last(unsortable)).i<=index;)unsortable.pop(),vs.push(last$1.vs),index++;return index}function sortSubgraph(g,v,cg,biasRight){var movable=g.children(v),node=g.node(v),bl=node?node.borderLeft:void 0,br=node?node.borderRight:void 0,subgraphs={};bl&&(movable=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.r)(movable,(function(w){return w!==bl&&w!==br})));var barycenters=function barycenter(g,movable){return map(movable,(function(v){var inV=g.inEdges(v);if(inV.length){var result=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.s)(inV,(function(acc,e){var edge=g.edge(e),nodeU=g.node(e.v);return{sum:acc.sum+edge.weight*nodeU.order,weight:acc.weight+edge.weight}}),{sum:0,weight:0});return{v:v,barycenter:result.sum/result.weight,weight:result.weight}}return{v:v}}))}(g,movable);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(barycenters,(function(entry){if(g.children(entry.v).length){var subgraphResult=sortSubgraph(g,entry.v,cg,biasRight);subgraphs[entry.v]=subgraphResult,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(subgraphResult,"barycenter")&&function mergeBarycenters(target,other){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(target.barycenter)?(target.barycenter=other.barycenter,target.weight=other.weight):(target.barycenter=(target.barycenter*target.weight+other.barycenter*other.weight)/(target.weight+other.weight),target.weight+=other.weight)}(entry,subgraphResult)}}));var entries=resolveConflicts(barycenters,cg);!function expandSubgraphs(entries,subgraphs){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(entries,(function(entry){entry.vs=flatten(entry.vs.map((function(v){return subgraphs[v]?subgraphs[v].vs:v})))}))}(entries,subgraphs);var result=sort(entries,biasRight);if(bl&&(result.vs=flatten([bl,result.vs,br]),g.predecessors(bl).length)){var blPred=g.node(g.predecessors(bl)[0]),brPred=g.node(g.predecessors(br)[0]);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(result,"barycenter")||(result.barycenter=0,result.weight=0),result.barycenter=(result.barycenter*result.weight+blPred.order+brPred.order)/(result.weight+2),result.weight+=2}return result}function order(g){var maxRank$1=maxRank(g),downLayerGraphs=buildLayerGraphs(g,range$1(1,maxRank$1+1),"inEdges"),upLayerGraphs=buildLayerGraphs(g,range$1(maxRank$1-1,-1,-1),"outEdges"),layering=function initOrder(g){var visited={},simpleNodes=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.r)(g.nodes(),(function(v){return!g.children(v).length})),maxRank2=max(map(simpleNodes,(function(v){return g.node(v).rank}))),layers=map(range$1(maxRank2+1),(function(){return[]})),orderedVs=sortBy$1(simpleNodes,(function(v){return g.node(v).rank}));return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(orderedVs,(function dfs2(v){if(!(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(visited,v)){visited[v]=!0;var node=g.node(v);layers[node.rank].push(v),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.successors(v),dfs2)}})),layers}(g);assignOrder(g,layering);for(var best,value,bestCC=Number.POSITIVE_INFINITY,i=0,lastBest=0;lastBest<4;++i,++lastBest){sweepLayerGraphs(i%2?downLayerGraphs:upLayerGraphs,i%4>=2);var cc=crossCount(g,layering=buildLayerMatrix(g));cc<bestCC&&(lastBest=0,value=layering,best=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.c)(value,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG),bestCC=cc)}assignOrder(g,best)}function buildLayerGraphs(g,ranks,relationship){return map(ranks,(function(rank2){return buildLayerGraph(g,rank2,relationship)}))}function sweepLayerGraphs(layerGraphs,biasRight){var cg=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layerGraphs,(function(lg){var root2=lg.graph().root,sorted=sortSubgraph(lg,root2,cg,biasRight);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(sorted.vs,(function(v,i){lg.node(v).order=i})),function addSubgraphConstraints(g,cg,vs){var rootPrev,prev={};(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(vs,(function(v){for(var parent,prevChild,child=g.parent(v);child;){if((parent=g.parent(child))?(prevChild=prev[parent],prev[parent]=child):(prevChild=rootPrev,rootPrev=child),prevChild&&prevChild!==child)return void cg.setEdge(prevChild,child);child=parent}}))}(lg,cg,sorted.vs)}))}function assignOrder(g,layering){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layering,(function(layer){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer,(function(v,i){g.node(v).order=i}))}))}function parentDummyChains(g){var postorderNums=function postorder(g){var result={},lim=0;function dfs2(v){var low=lim;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.children(v),dfs2),result[v]={low:low,lim:lim++}}return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.children(),dfs2),result}(g);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.graph().dummyChains,(function(v){for(var node=g.node(v),edgeObj=node.edgeObj,pathData=function findPath(g,postorderNums,v,w){var parent,lca,vPath=[],wPath=[],low=Math.min(postorderNums[v].low,postorderNums[w].low),lim=Math.max(postorderNums[v].lim,postorderNums[w].lim);parent=v;do{parent=g.parent(parent),vPath.push(parent)}while(parent&&(postorderNums[parent].low>low||lim>postorderNums[parent].lim));lca=parent,parent=w;for(;(parent=g.parent(parent))!==lca;)wPath.push(parent);return{path:vPath.concat(wPath.reverse()),lca:lca}}(g,postorderNums,edgeObj.v,edgeObj.w),path=pathData.path,lca=pathData.lca,pathIdx=0,pathV=path[pathIdx],ascending=!0;v!==edgeObj.w;){if(node=g.node(v),ascending){for(;(pathV=path[pathIdx])!==lca&&g.node(pathV).maxRank<node.rank;)pathIdx++;pathV===lca&&(ascending=!1)}if(!ascending){for(;pathIdx<path.length-1&&g.node(pathV=path[pathIdx+1]).minRank<=node.rank;)pathIdx++;pathV=path[pathIdx]}g.setParent(v,pathV),v=g.successors(v)[0]}}))}function findType1Conflicts(g,layering){var conflicts={};return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.s)(layering,(function visitLayer(prevLayer,layer){var k0=0,scanPos=0,prevLayerLength=prevLayer.length,lastNode=last(layer);return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer,(function(v,i){var w=function findOtherInnerSegmentNode(g,v){if(g.node(v).dummy)return find$1(g.predecessors(v),(function(u){return g.node(u).dummy}))}(g,v),k1=w?g.node(w).order:prevLayerLength;(w||v===lastNode)&&((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer.slice(scanPos,i+1),(function(scanNode){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.predecessors(scanNode),(function(u){var uLabel=g.node(u),uPos=uLabel.order;!(uPos<k0||k1<uPos)||uLabel.dummy&&g.node(scanNode).dummy||addConflict(conflicts,u,scanNode)}))})),scanPos=i+1,k0=k1)})),layer})),conflicts}function addConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}var conflictsV=conflicts[v];conflictsV||(conflicts[v]=conflictsV={}),conflictsV[w]=!0}function hasConflict(conflicts,v,w){if(v>w){var tmp=v;v=w,w=tmp}return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(conflicts[v],w)}function horizontalCompaction(g,layering,root2,align,reverseSep){var xs={},blockG=function buildBlockGraph(g,layering,root2,reverseSep){var blockGraph=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G,graphLabel=g.graph(),sepFn=function sep(nodeSep,edgeSep,reverseSep){return function(g,v,w){var delta,vLabel=g.node(v),wLabel=g.node(w),sum=0;if(sum+=vLabel.width/2,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(vLabel,"labelpos"))switch(vLabel.labelpos.toLowerCase()){case"l":delta=-vLabel.width/2;break;case"r":delta=vLabel.width/2}if(delta&&(sum+=reverseSep?delta:-delta),delta=0,sum+=(vLabel.dummy?edgeSep:nodeSep)/2,sum+=(wLabel.dummy?edgeSep:nodeSep)/2,sum+=wLabel.width/2,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(wLabel,"labelpos"))switch(wLabel.labelpos.toLowerCase()){case"l":delta=wLabel.width/2;break;case"r":delta=-wLabel.width/2}return delta&&(sum+=reverseSep?delta:-delta),delta=0,sum}}(graphLabel.nodesep,graphLabel.edgesep,reverseSep);return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layering,(function(layer){var u;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer,(function(v){var vRoot=root2[v];if(blockGraph.setNode(vRoot),u){var uRoot=root2[u],prevMax=blockGraph.edge(uRoot,vRoot);blockGraph.setEdge(uRoot,vRoot,Math.max(sepFn(g,v,u),prevMax||0))}u=v}))})),blockGraph}(g,layering,root2,reverseSep),borderType=reverseSep?"borderLeft":"borderRight";function iterate(setXsFunc,nextNodesFunc){for(var stack=blockG.nodes(),elem=stack.pop(),visited={};elem;)visited[elem]?setXsFunc(elem):(visited[elem]=!0,stack.push(elem),stack=stack.concat(nextNodesFunc(elem))),elem=stack.pop()}return iterate((function pass1(elem){xs[elem]=blockG.inEdges(elem).reduce((function(acc,e){return Math.max(acc,xs[e.v]+blockG.edge(e))}),0)}),blockG.predecessors.bind(blockG)),iterate((function pass2(elem){var min2=blockG.outEdges(elem).reduce((function(acc,e){return Math.min(acc,xs[e.w]-blockG.edge(e))}),Number.POSITIVE_INFINITY),node=g.node(elem);min2!==Number.POSITIVE_INFINITY&&node.borderType!==borderType&&(xs[elem]=Math.max(xs[elem],min2))}),blockG.successors.bind(blockG)),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(align,(function(v){xs[v]=xs[root2[v]]})),xs}function findSmallestWidthAlignment(g,xss){return minBy((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.v)(xss),(function(xs){var max2=Number.NEGATIVE_INFINITY,min2=Number.POSITIVE_INFINITY;return function forIn(object,iteratee){return null==object?object:(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.af)(object,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.l)(iteratee),_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.ab)}(xs,(function(x,v){var halfWidth=function width(g,v){return g.node(v).width}(g,v)/2;max2=Math.max(x+halfWidth,max2),min2=Math.min(x-halfWidth,min2)})),max2-min2}))}function positionX(g){var adjustedLayering,layering=buildLayerMatrix(g),conflicts=(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.am)(findType1Conflicts(g,layering),function findType2Conflicts(g,layering){var conflicts={};function scan(south,southPos,southEnd,prevNorthBorder,nextNorthBorder){var v;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(range$1(southPos,southEnd),(function(i){v=south[i],g.node(v).dummy&&(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.predecessors(v),(function(u){var uNode=g.node(u);uNode.dummy&&(uNode.order<prevNorthBorder||uNode.order>nextNorthBorder)&&addConflict(conflicts,u,v)}))}))}return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.s)(layering,(function visitLayer(north,south){var nextNorthPos,prevNorthPos=-1,southPos=0;return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(south,(function(v,southLookahead){if("border"===g.node(v).dummy){var predecessors=g.predecessors(v);predecessors.length&&(nextNorthPos=g.node(predecessors[0]).order,scan(south,southPos,southLookahead,prevNorthPos,nextNorthPos),southPos=southLookahead,prevNorthPos=nextNorthPos)}scan(south,southPos,south.length,nextNorthPos,north.length)})),south})),conflicts}(g,layering)),xss={};(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(["u","d"],(function(vert){adjustedLayering="u"===vert?layering:(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.v)(layering).reverse(),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(["l","r"],(function(horiz){"r"===horiz&&(adjustedLayering=map(adjustedLayering,(function(inner){return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.v)(inner).reverse()})));var neighborFn=("u"===vert?g.predecessors:g.successors).bind(g),align=function verticalAlignment(g,layering,conflicts,neighborFn){var root2={},align={},pos={};return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layering,(function(layer){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer,(function(v,order2){root2[v]=v,align[v]=v,pos[v]=order2}))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layering,(function(layer){var prevIdx=-1;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer,(function(v){var ws=neighborFn(v);if(ws.length)for(var mp=((ws=sortBy$1(ws,(function(w2){return pos[w2]}))).length-1)/2,i=Math.floor(mp),il=Math.ceil(mp);i<=il;++i){var w=ws[i];align[v]===v&&prevIdx<pos[w]&&!hasConflict(conflicts,v,w)&&(align[w]=v,align[v]=root2[v]=root2[w],prevIdx=pos[w])}}))})),{root:root2,align:align}}(0,adjustedLayering,conflicts,neighborFn),xs=horizontalCompaction(g,adjustedLayering,align.root,align.align,"r"===horiz);"r"===horiz&&(xs=mapValues(xs,(function(x){return-x}))),xss[vert+horiz]=xs}))}));var smallestWidth=findSmallestWidthAlignment(g,xss);return function alignCoordinates(xss,alignTo){var alignToVals=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.v)(alignTo),alignToMin=min(alignToVals),alignToMax=max(alignToVals);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(["u","d"],(function(vert){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(["l","r"],(function(horiz){var delta,alignment=vert+horiz,xs=xss[alignment];if(xs!==alignTo){var xsVals=(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.v)(xs);(delta="l"===horiz?alignToMin-min(xsVals):alignToMax-max(xsVals))&&(xss[alignment]=mapValues(xs,(function(x){return x+delta})))}}))}))}(xss,smallestWidth),function balance(xss,align){return mapValues(xss.ul,(function(ignore,v){if(align)return xss[align.toLowerCase()][v];var xs=sortBy$1(map(xss,v));return(xs[1]+xs[2])/2}))}(xss,g.graph().align)}function position(g){(function positionY(g){var layering=buildLayerMatrix(g),rankSep=g.graph().ranksep,prevY=0;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layering,(function(layer){var maxHeight=max(map(layer,(function(v){return g.node(v).height})));(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer,(function(v){g.node(v).y=prevY+maxHeight/2})),prevY+=maxHeight+rankSep}))})(g=asNonCompoundGraph(g)),function forOwn(object,iteratee){return object&&(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.m)(object,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.l)(iteratee))}(positionX(g),(function(x,v){g.node(v).x=x}))}function layout(g,opts){var time$1=opts&&opts.debugTiming?time:notime;time$1("layout",(function(){var layoutGraph=time$1("  buildLayoutGraph",(function(){return function buildLayoutGraph(inputGraph){var g=new _graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.G({multigraph:!0,compound:!0}),graph=canonicalize(inputGraph.graph());return g.setGraph((0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.am)({},graphDefaults,selectNumberAttrs(graph,graphNumAttrs),pick$1(graph,graphAttrs))),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(inputGraph.nodes(),(function(v){var node=canonicalize(inputGraph.node(v));g.setNode(v,defaults$1(selectNumberAttrs(node,nodeNumAttrs),nodeDefaults)),g.setParent(v,inputGraph.parent(v))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(inputGraph.edges(),(function(e){var edge=canonicalize(inputGraph.edge(e));g.setEdge(e,(0,_mermaid_4f066ae1_js__WEBPACK_IMPORTED_MODULE_1__.am)({},edgeDefaults,selectNumberAttrs(edge,edgeNumAttrs),pick$1(edge,edgeAttrs)))})),g}(g)}));time$1("  runLayout",(function(){!function runLayout(g,time2){time2("    makeSpaceForEdgeLabels",(function(){!function makeSpaceForEdgeLabels(g){var graph=g.graph();graph.ranksep/=2,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);edge.minlen*=2,"c"!==edge.labelpos.toLowerCase()&&("TB"===graph.rankdir||"BT"===graph.rankdir?edge.width+=edge.labeloffset:edge.height+=edge.labeloffset)}))}(g)})),time2("    removeSelfEdges",(function(){!function removeSelfEdges(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){if(e.v===e.w){var node=g.node(e.v);node.selfEdges||(node.selfEdges=[]),node.selfEdges.push({e:e,label:g.edge(e)}),g.removeEdge(e)}}))}(g)})),time2("    acyclic",(function(){run$2(g)})),time2("    nestingGraph.run",(function(){run(g)})),time2("    rank",(function(){rank(asNonCompoundGraph(g))})),time2("    injectEdgeLabelProxies",(function(){!function injectEdgeLabelProxies(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);if(edge.width&&edge.height){var v=g.node(e.v),label={rank:(g.node(e.w).rank-v.rank)/2+v.rank,e:e};addDummyNode(g,"edge-proxy",label,"_ep")}}))}(g)})),time2("    removeEmptyRanks",(function(){!function removeEmptyRanks(g){var offset=min(map(g.nodes(),(function(v){return g.node(v).rank}))),layers=[];(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var rank2=g.node(v).rank-offset;layers[rank2]||(layers[rank2]=[]),layers[rank2].push(v)}));var delta=0,nodeRankFactor=g.graph().nodeRankFactor;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layers,(function(vs,i){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.i)(vs)&&i%nodeRankFactor!=0?--delta:delta&&(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(vs,(function(v){g.node(v).rank+=delta}))}))}(g)})),time2("    nestingGraph.cleanup",(function(){!function cleanup(g){var graphLabel=g.graph();g.removeNode(graphLabel.nestingRoot),delete graphLabel.nestingRoot,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){g.edge(e).nestingEdge&&g.removeEdge(e)}))}(g)})),time2("    normalizeRanks",(function(){!function normalizeRanks(g){var min$1=min(map(g.nodes(),(function(v){return g.node(v).rank})));(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var node=g.node(v);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(node,"rank")&&(node.rank-=min$1)}))}(g)})),time2("    assignRankMinMax",(function(){!function assignRankMinMax(g){var maxRank2=0;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var node=g.node(v);node.borderTop&&(node.minRank=g.node(node.borderTop).rank,node.maxRank=g.node(node.borderBottom).rank,maxRank2=max(maxRank2,node.maxRank))})),g.graph().maxRank=maxRank2}(g)})),time2("    removeEdgeLabelProxies",(function(){!function removeEdgeLabelProxies(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var node=g.node(v);"edge-proxy"===node.dummy&&(g.edge(node.e).labelRank=node.rank,g.removeNode(v))}))}(g)})),time2("    normalize.run",(function(){run$1(g)})),time2("    parentDummyChains",(function(){parentDummyChains(g)})),time2("    addBorderSegments",(function(){!function addBorderSegments(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.children(),(function dfs2(v){var children=g.children(v),node=g.node(v);if(children.length&&(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(children,dfs2),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(node,"minRank")){node.borderLeft=[],node.borderRight=[];for(var rank2=node.minRank,maxRank2=node.maxRank+1;rank2<maxRank2;++rank2)addBorderNode(g,"borderLeft","_bl",v,node,rank2),addBorderNode(g,"borderRight","_br",v,node,rank2)}}))}(g)})),time2("    order",(function(){order(g)})),time2("    insertSelfEdges",(function(){!function insertSelfEdges(g){var layers=buildLayerMatrix(g);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layers,(function(layer){var orderShift=0;(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(layer,(function(v,i){var node=g.node(v);node.order=i+orderShift,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(node.selfEdges,(function(selfEdge){addDummyNode(g,"selfedge",{width:selfEdge.label.width,height:selfEdge.label.height,rank:node.rank,order:i+ ++orderShift,e:selfEdge.e,label:selfEdge.label},"_se")})),delete node.selfEdges}))}))}(g)})),time2("    adjustCoordinateSystem",(function(){!function adjust(g){var rankDir=g.graph().rankdir.toLowerCase();"lr"!==rankDir&&"rl"!==rankDir||swapWidthHeight(g)}(g)})),time2("    position",(function(){position(g)})),time2("    positionSelfEdges",(function(){!function positionSelfEdges(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var node=g.node(v);if("selfedge"===node.dummy){var selfNode=g.node(node.e.v),x=selfNode.x+selfNode.width/2,y=selfNode.y,dx=node.x-x,dy=selfNode.height/2;g.setEdge(node.e,node.label),g.removeNode(v),node.label.points=[{x:x+2*dx/3,y:y-dy},{x:x+5*dx/6,y:y-dy},{x:x+dx,y:y},{x:x+5*dx/6,y:y+dy},{x:x+2*dx/3,y:y+dy}],node.label.x=node.x,node.label.y=node.y}}))}(g)})),time2("    removeBorderNodes",(function(){!function removeBorderNodes(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){if(g.children(v).length){var node=g.node(v),t=g.node(node.borderTop),b=g.node(node.borderBottom),l=g.node(last(node.borderLeft)),r=g.node(last(node.borderRight));node.width=Math.abs(r.x-l.x),node.height=Math.abs(b.y-t.y),node.x=l.x+node.width/2,node.y=t.y+node.height/2}})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){"border"===g.node(v).dummy&&g.removeNode(v)}))}(g)})),time2("    normalize.undo",(function(){!function undo(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.graph().dummyChains,(function(v){var w,node=g.node(v),origLabel=node.edgeLabel;for(g.setEdge(node.edgeObj,origLabel);node.dummy;)w=g.successors(v)[0],g.removeNode(v),origLabel.points.push({x:node.x,y:node.y}),"edge-label"===node.dummy&&(origLabel.x=node.x,origLabel.y=node.y,origLabel.width=node.width,origLabel.height=node.height),v=w,node=g.node(v)}))}(g)})),time2("    fixupEdgeLabelCoords",(function(){!function fixupEdgeLabelCoords(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);if((0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(edge,"x"))switch("l"!==edge.labelpos&&"r"!==edge.labelpos||(edge.width-=edge.labeloffset),edge.labelpos){case"l":edge.x-=edge.width/2+edge.labeloffset;break;case"r":edge.x+=edge.width/2+edge.labeloffset}}))}(g)})),time2("    undoCoordinateSystem",(function(){undo$1(g)})),time2("    translateGraph",(function(){!function translateGraph(g){var minX=Number.POSITIVE_INFINITY,maxX=0,minY=Number.POSITIVE_INFINITY,maxY=0,graphLabel=g.graph(),marginX=graphLabel.marginx||0,marginY=graphLabel.marginy||0;function getExtremes(attrs){var x=attrs.x,y=attrs.y,w=attrs.width,h=attrs.height;minX=Math.min(minX,x-w/2),maxX=Math.max(maxX,x+w/2),minY=Math.min(minY,y-h/2),maxY=Math.max(maxY,y+h/2)}(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){getExtremes(g.node(v))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(edge,"x")&&getExtremes(edge)})),minX-=marginX,minY-=marginY,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.nodes(),(function(v){var node=g.node(v);node.x-=minX,node.y-=minY})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(edge.points,(function(p){p.x-=minX,p.y-=minY})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(edge,"x")&&(edge.x-=minX),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(edge,"y")&&(edge.y-=minY)})),graphLabel.width=maxX-minX+marginX,graphLabel.height=maxY-minY+marginY}(g)})),time2("    assignNodeIntersects",(function(){!function assignNodeIntersects(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var p1,p2,edge=g.edge(e),nodeV=g.node(e.v),nodeW=g.node(e.w);edge.points?(p1=edge.points[0],p2=edge.points[edge.points.length-1]):(edge.points=[],p1=nodeW,p2=nodeV),edge.points.unshift(intersectRect(nodeV,p1)),edge.points.push(intersectRect(nodeW,p2))}))}(g)})),time2("    reversePoints",(function(){!function reversePointsForReversedEdges(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var edge=g.edge(e);edge.reversed&&edge.points.reverse()}))}(g)})),time2("    acyclic.undo",(function(){!function undo$2(g){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(g.edges(),(function(e){var label=g.edge(e);if(label.reversed){g.removeEdge(e);var forwardName=label.forwardName;delete label.reversed,delete label.forwardName,g.setEdge(e.w,e.v,label,forwardName)}}))}(g)}))}(layoutGraph,time$1)})),time$1("  updateInputGraph",(function(){!function updateInputGraph(inputGraph,layoutGraph){(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(inputGraph.nodes(),(function(v){var inputLabel=inputGraph.node(v),layoutLabel=layoutGraph.node(v);inputLabel&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y,layoutGraph.children(v).length&&(inputLabel.width=layoutLabel.width,inputLabel.height=layoutLabel.height))})),(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(inputGraph.edges(),(function(e){var inputLabel=inputGraph.edge(e),layoutLabel=layoutGraph.edge(e);inputLabel.points=layoutLabel.points,(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.h)(layoutLabel,"x")&&(inputLabel.x=layoutLabel.x,inputLabel.y=layoutLabel.y)})),inputGraph.graph().width=layoutGraph.graph().width,inputGraph.graph().height=layoutGraph.graph().height}(g,layoutGraph)}))}))}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function selectNumberAttrs(obj,attrs){return mapValues(pick$1(obj,attrs),Number)}function canonicalize(attrs){var newAttrs={};return(0,_graph_03626afa_js__WEBPACK_IMPORTED_MODULE_0__.f)(attrs,(function(v,k){newAttrs[k.toLowerCase()]=v})),newAttrs}}}]);